[{"stepName":"postprocessing","disabled":"never","services":[{"scriptName":"clustering_vsearch_ASVs2OTUs.sh","tooltip":"clustering ASVs to OTUs with vsearch; and making an OTU table","imageName":"pipecraft/vsearch_dada2:2","serviceName":"ASV_to_OTU","selected":false,"showExtra":false,"extraInputs":[{"name":"OTU_type","items":["centroid","consout"],"disabled":"never","tooltip":"\"centroid\" = output centroid sequences; \"consout\" = output consensus sequences","value":"centroid","type":"select"},{"name":"strands","items":["both","plus"],"disabled":"never","tooltip":"when comparing sequences with the cluster seed, check both strands (forward and reverse complementary) or the plus strand only","value":"both","type":"select"},{"name":"remove_singletons","value":false,"disabled":"never","tooltip":"remove singleton OTUs (e.g., if TRUE, then OTUs with only one sequence will be discarded)","type":"bool"},{"name":"similarity_type","items":["0","1","2","3","4"],"value":"2","disabled":"never","tooltip":"pairwise sequence identity definition (--iddef)","type":"select"},{"name":"sequence_sorting","items":["size","length","no"],"value":"size","disabled":"never","tooltip":"size = sort the sequences by decreasing abundance; \"length\" = sort the sequences by decreasing length (--cluster_fast); \"no\" = do not sort sequences (--cluster_smallmem --usersort)","type":"select"},{"name":"centroid_type","items":["similarity","abundance"],"value":"similarity","disabled":"never","tooltip":"\"similarity\" = assign representative sequence to the closest (most similar) centroid (distance-based greedy clustering); \"abundance\" = assign representative sequence to the most abundant centroid (abundance-based greedy clustering; --sizeorder), --maxaccepts should be > 1","type":"select"},{"name":"maxaccepts","value":1,"disabled":"never","tooltip":"maximum number of hits to accept before stopping the search (should be > 1 for abundance-based selection of centroids [centroid type])","type":"numeric","rules":["_NuFrRa_v => v >= 1 || \"ERROR: specify values >= 1\""]},{"name":"mask","items":["dust","none"],"value":"dust","disabled":"never","tooltip":"mask regions in sequences using the \"dust\" method, or do not mask (\"none\").","type":"select"},{"name":"cores","value":4,"disabled":"never","tooltip":"number of cores to use","type":"numeric","rules":["_NuFrRa_v => v >= 1 || \"ERROR: specify values >= 1\""]}],"Inputs":[{"name":"ASV_fasta","active":false,"btnName":"select file","value":"undefined","disabled":"never","tooltip":"select fasta formatted ASVs sequence file (ASV IDs must match with the ones in the ASVs table) [output will be in the directory as specified under 'SELECT WORKDIR']","type":"file"},{"name":"ASV_table","active":true,"btnName":"select file","value":"undefined","disabled":"never","tooltip":"select ASVs_table file [1st col is ASVs ID, 2nd col must be 'Sequences' (default PipeCraft's output)]","type":"file"},{"name":"similarity_threshold","value":0.97,"disabled":"never","tooltip":"define OTUs based on the sequence similarity threshold; 0.97 = 97% similarity threshold","max":1,"min":0,"step":0.01,"type":"slide"}]},{"scriptName":"tag_jump_removal.sh","tooltip":"using UNCROSS2 to filter out putative tag-jumps","imageName":"vmikk/nextits:0.5.0","serviceName":"filter_tag-jumps","selected":false,"showExtra":false,"extraInputs":[],"Inputs":[{"name":"OTU_table","active":true,"btnName":"select file","value":"undefined","disabled":"never","tooltip":"select TAB-DELIMITED OTU/ASV table, where the 1st column is the OTU/ASV IDs and the following columns represent samples; 2nd column may be Sequence column, with the colName 'Sequence' [output will be in the directory as specified under 'SELECT WORKDIR']","type":"file"},{"name":"f_value","value":0.01,"max":1,"min":0,"step":0.01,"disabled":"never","tooltip":"f-parameter of UNCROSS2, which defines the expected cross-talk rate. Default is 0.01 (equivalent to 1%). A higher value enforces stricter filtering","type":"slide","rules":["_NuFrRa_v => v > 0 || \"ERROR: specify values > 0\""]},{"name":"p_value","value":1,"disabled":"never","tooltip":"p-parameter, which controls the severity of tag-jump removal. It adjusts the exponent in the UNCROSS formula. Default is 1. Opt for 0.5 or 0.3 to steepen the curve","type":"numeric","rules":["_NuFrRa_v => v > 0 || \"ERROR: specify values > 0\""]}]},{"tooltip":"pseudogene fintering with ORFfinder (search open reading frames) and/or HMMs","scriptName":"ORFfinder_hmm.sh","imageName":"pipecraft/metaworks:1.12.0","serviceName":"filter_numts","selected":false,"showExtra":false,"extraInputs":[{"name":"ignore_nested","value":true,"disabled":"never","tooltip":"ignore nested open reading frames (completely placed within another)","type":"bool"},{"name":"strand","items":["plus","minus","both"],"value":"both","disabled":"never","tooltip":"output open reading frames (ORFs) on specified strand only","type":"select"}],"Inputs":[{"name":"fasta_file","active":false,"btnName":"select fasta file","value":"undefined","disabled":"never","tooltip":"select fasta formatted sequence file containing your OTU/ASV reads. Sequence IDs cannot contaon underlines '_' [output will be in the directory as specified under 'SELECT WORKDIR']","type":"file"},{"name":"min_len","value":309,"disabled":"never","tooltip":"minimum length of an output sequence","type":"numeric","rules":["_NuFrRa_v => v >= 1 || \"ERROR: specify values >= 1\""]},{"name":"genetic_code","value":5,"disabled":"never","tooltip":"5 = invertebrate mitochondrial code. Use 1 for rbcL. Specify values from 1 to 33; see https://www.ncbi.nlm.nih.gov/Taxonomy/Utils/wprintgc.cgi","type":"numeric","rules":["_NuFrRa_v => v >= 1 || \"ERROR: specify values >= 1\"","_NuFrRa_v => v <= 34 || \"ERROR: specify values <= 34\""]},{"name":"start_codon","value":2,"disabled":"never","tooltip":"0 = ATG only; 1 = ATG and alternative initation codons; 2 = any sense codon","type":"numeric","rules":["_NuFrRa_v => v >= 1 || \"ERROR: specify values >= 1\"","_NuFrRa_v => v <= 34 || \"ERROR: specify values <= 34\""]},{"name":"arthropod_hmm","value":true,"disabled":"never","tooltip":"on top of ORFfinder, remove sequences that don't match well to a profile HMM based on arthropod COI barcode sequences","type":"bool"}]},{"tooltip":"DEICODE (Robust Aitchison PCA on sparse compositional metabarcoding data)","scriptName":"DEICODE.sh","imageName":"pipecraft/deicode:0.2.4","serviceName":"DEICODE","selected":false,"showExtra":false,"extraInputs":[],"Inputs":[{"name":"table","active":false,"btnName":"select file","value":"undefined","disabled":"never","tooltip":"select OTU/ASV table. If no file is selected, then PipeCraft will look OTU_table.txt or ASV_table.txt in the WORKDIR [output will be in the directory as specified under 'SELECT WORKDIR']","type":"boolfile"},{"name":"subset_IDs","active":false,"btnName":"select file","value":"undefined","disabled":"never","tooltip":"select list of OTU/ASV IDs for analysing a subset from the full table","type":"boolfile"},{"name":"min_otu_reads","value":10,"disabled":"never","tooltip":"cutoff for reads per OTU/ASV. OTUs/ASVs with lower reads then specified cutoff will be excluded from the analysis","type":"numeric","rules":["_NuFrRa_v => v >= 0 || \"ERROR: specify values >= 0\""]},{"name":"min_sample_reads","value":500,"disabled":"never","tooltip":"cutoff for reads per sample. Samples with lower reads then specified cutoff will be excluded from the analysis","type":"numeric","rules":["_NuFrRa_v => v >= 0 || \"ERROR: specify values >= 0\""]}]},{"tooltip":"metaMATE (metabarcoding Multiple Abundance Threshold Evaluator) analyses a set of amplicons derived through metabarcoding of a mitochondrial coding locus to determine putative NUMT and other erroneous sequences","scriptName":"metamate.sh","imageName":"pipecraft/metamate:1","serviceName":"metaMATE","selected":true,"showExtra":false,"extraInputs":[{"name":"base_variation","value":3,"disabled":"never","tooltip":"find setting; allowed variation in the expected amplicon length in base pairs (metaMATE setting --basevariation)","type":"numeric","rules":["_NuFrRa_v => v >= 0 || \"ERROR: specify values >= 0\"","_NuFrRa_v => v <= 9999 || \"ERROR: specify values <= 9999\""],"depends_on":"state.selectedSteps[0].services[4].Inputs[0].value == \"find\" || state.selectedSteps[0].services[4].Inputs[0].value == \"find and dump\""},{"name":"cores","value":6,"disabled":"never","tooltip":"number of cores to use","type":"numeric","rules":["_NuFrRa_v => v >= 1 || \"ERROR: specify values >= 1\""]}],"Inputs":[{"name":"find_or_dump","items":["find","dump","find and dump"],"value":"dump","disabled":"never","tooltip":"find or dump functionality of metamate","type":"select"},{"name":"specifications","value":"undefined","btnName":"select file","disabled":"never","tooltip":"find setting; select specifications file for metaMATE find function; see example see https://github.com/tjcreedy/metamate/blob/main/specifications.txt","type":"file","depends_on":"state.selectedSteps[0].services[4].Inputs[0].value == \"find\" || state.selectedSteps[0].services[4].Inputs[0].value == \"find and dump\""},{"name":"reference_seqs","value":"undefined","btnName":"select fasta","disabled":"never","tooltip":"find setting; zzz","type":"file","depends_on":"state.selectedSteps[0].services[4].Inputs[0].value == \"find\" || state.selectedSteps[0].services[4].Inputs[0].value == \"find and dump\""},{"name":"table","active":false,"btnName":"select table","value":"undefined","disabled":"never","tooltip":"find setting; select your OTU/ASV table","type":"file","depends_on":"state.selectedSteps[0].services[4].Inputs[0].value == \"find\" || state.selectedSteps[0].services[4].Inputs[0].value == \"find and dump\""},{"name":"rep_seqs","value":"undefined","btnName":"select fasta","disabled":"never","tooltip":"find/dump setting; select your fasta formatted OTUs/ASVs file for filtering","type":"file","depends_on":"state.selectedSteps[0].services[4].Inputs[0].value == \"find\" || state.selectedSteps[0].services[4].Inputs[0].value == \"find and dump\""},{"name":"genetic_code","value":5,"disabled":"never","tooltip":"find setting; 5 = invertebrate mitochondrial code. Use 1 for rbcL. Specify values from 1 to 33 (metaMATE setting --table)","type":"numeric","rules":["_NuFrRa_v => v >= 1 || \"ERROR: specify values >= 1\"","_NuFrRa_v => v <= 34 || \"ERROR: specify values <= 34\""],"depends_on":"state.selectedSteps[0].services[4].Inputs[0].value == \"find\" || state.selectedSteps[0].services[4].Inputs[0].value == \"find and dump\""},{"name":"length","value":418,"disabled":"never","tooltip":"find setting; the expected length of the target amplicon (metaMATE setting --expectedlength); allow variations with 'base_variation' setting","type":"numeric","rules":["_NuFrRa_v => v >= 1 || \"ERROR: specify values >= 1\"","_NuFrRa_v => v <= 9999 || \"ERROR: specify values <= 9999\""],"depends_on":"state.selectedSteps[0].services[4].Inputs[0].value == \"find\" || state.selectedSteps[0].services[4].Inputs[0].value == \"find and dump\""},{"name":"find_results","value":"C:/Users/m_4_r/Desktop/pipecraft/testData/COI_313bp/primers.txt","btnName":"select file","disabled":"never","tooltip":"dump setting; select results file for dump from metaMATE find","type":"file","depends_on":"state.selectedSteps[0].services[4].Inputs[0].value == \"dump\" || state.selectedSteps[0].services[4].Inputs[0].value == \"find and dump\""},{"name":"result_index","value":1,"disabled":"never","tooltip":"dump setting; which filtering to apply (metaMATE setting --resultindex)","type":"numeric","rules":["_NuFrRa_v => v >= 1 || \"ERROR: specify values >= 1\""],"depends_on":"state.selectedSteps[0].services[4].Inputs[0].value == \"dump\""},{"name":"NA_abund_thresh","value":0.05,"disabled":"never","tooltip":"dump setting; 0.05=5%; the allowed abundance threshold of non-validated (putative artefactual) OTUs/ASVs","max":1,"min":0,"step":0.01,"type":"slide","depends_on":"state.selectedSteps[0].services[4].Inputs[0].value == \"dump\" || state.selectedSteps[0].services[4].Inputs[0].value == \"find and dump\""}]}]}]